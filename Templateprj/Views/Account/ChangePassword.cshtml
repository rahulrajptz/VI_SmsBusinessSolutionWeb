@model Templateprj.Models.ChangePasswordModel
@if (Session["IsMob"] == null)
{
    ViewBag.Title = "Change Password";
    if (Session["PasswordFlag"] != null && Session["PasswordFlag"].ToString() == "0")
    {
        ViewBag.ActLink = "Change Password";
        Layout = "~/Views/Account/_Layout.cshtml";
    }
    else
    {
        Layout = "~/Views/Account/_Layout.cshtml";
    }
}
<style>
    .img-circle {
        border-radius: 50%;
    }
    .pwdbubble {
        width: 100%;
        margin: 0;
    }

        .pwdbubble td {
            padding: 5px;
        }

    #pwdbubble {
        display: none;
    }
</style>
<link href="~/Content/ionicons.min.css" rel="stylesheet" />
<div class="row">
    <div class="col-md-6 ml-auto mr-auto">
        @using (Html.BeginForm(MVC.Account.ChangePassword()))
        {
            @Html.AntiForgeryToken()
            <div class="card card-lock text-center @(@Session["LoginID"] == null? "card card-lock text-center":"")">
                @if (Session["LoginID"] == null)
                {
                    <div class="card-header">
                        <img src="~/assets/img/emilyz.jpg" />
                    </div>
                }
                <div class="card-body">
                    <h4 class="card-title">@ViewBag.Title</h4>
                    @if (Session["LoginID"] != null)
                    {
                        <span class="card-title hide-on-med-and-down">@ViewBag.Title</span>
                    }
                    <div class="full-width @(@Session["LoginID"] == null? "center":"")">
                        @TempData["Head"]
                    </div>
                    <div class="form-group">
                        @Html.LabelFor(m => m.OTP)
                        @Html.TextBoxFor(m => m.OTP, new { @class = "form-control", autocomplete = "off", ondrop = "blur();return false;", oncopy = "return false", onpaste = "return false", oncut = "return false" })
                    </div>
                    <div class="form-group">
                        @Html.LabelFor(m => m.NewPassword)
                        @Html.PasswordFor(m => m.NewPassword, new { @class = "form-control", autocomplete = "off", ondrop = "blur();return false;", oncopy = "return false", onpaste = "return false", oncut = "return false" })

                    </div>
                    <div id="pwdbubble" style="width:100%">
                        <table class="pwdbubble">
                            <tr><td><i id="strgLgth" class="ion ion-close-round red-text"></i></td><td>Use atleast 8 characters</td></tr>
                            <tr><td><i id="strgCase" class="ion ion-close-round red-text"></i></td><td>Mix lower and upper case letters</td></tr>
                            <tr><td><i id="strgNumb" class="ion ion-close-round red-text"></i></td><td>Use numbers</td></tr>
                            <tr><td><i id="strgSpec" class="ion ion-close-round red-text"></i></td><td>Use special characters</td></tr>
                        </table>
                    </div>
                    <div class="form-group">
                        @Html.LabelFor(m => m.ConfirmPassword)
                        @Html.PasswordFor(m => m.ConfirmPassword, new { @class = "form-control", autocomplete = "off", ondrop = "blur();return false;", oncopy = "return false", onpaste = "return false", oncut = "return false" })

                    </div>
                </div>
                <div class="card-footer">
                    <button type="submit" class="btn btn-primary btn-round btn-lg not-close">Change Password</button>
                </div>
                @if (ViewBag.ErrorMsg != null)
                {
                    <div id="message" class="full-width center">
                        <br /><span class="now-ui-icons ui-1_simple-remove text-danger"> @ViewBag.ErrorMsg</span><br />
                    </div>
                }
                <div class="card-footer">
                    <a id="btn_resend" class="btn btn-primary btn-round btn-sm not-close"> Resend OTP</a>
                </div>
            </div>
        }
    </div>
</div>
@section scripts{
    <script src="~/Scripts/PwdStrg.min.js"></script>
    <script type="text/javascript">
		$(document).ready(function () {
			$("#btn_resend").click(function () {
				$.post("@Url.Action("ResendOtp", "Account")", function (data) {
					alert(data.Msg, data.Head);
				}).fail(function () {
					alert("Unable to request", "Error");
				});
			});
		});
    </script>
}